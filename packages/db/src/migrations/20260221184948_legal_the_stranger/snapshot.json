{
  "version": "8",
  "dialect": "postgres",
  "id": "acce3051-44d7-4b4f-a1ca-6fdbdf695c7c",
  "prevIds": ["4164fcfe-56e0-4f8f-932d-4196c63cf5df"],
  "ddl": [
    {
      "values": [
        "draft_bill",
        "draft_proposal",
        "draft_amendment",
        "bulletin_item",
        "law",
        "regulation",
        "precedent",
        "doctrine"
      ],
      "name": "content_type",
      "entityType": "enums",
      "schema": "public"
    },
    {
      "values": [
        "jina-embeddings-v4",
        "openai_3_large",
        "openai_3_small",
        "e5_multilingual",
        "custom"
      ],
      "name": "embedding_model",
      "entityType": "enums",
      "schema": "public"
    },
    {
      "values": [
        "regex",
        "spacy_ner",
        "transformer_ner",
        "llm_gpt4",
        "llm_claude",
        "manual_human",
        "admin_override",
        "imported"
      ],
      "name": "extraction_method",
      "entityType": "enums",
      "schema": "public"
    },
    {
      "values": [
        "constitucion",
        "tratado_internacional",
        "ley_organica",
        "ley_estatal",
        "real_decreto_legislativo",
        "real_decreto",
        "decreto_ley",
        "decreto",
        "orden_ministerial",
        "resolucion",
        "circular"
      ],
      "name": "hierarchy_level",
      "entityType": "enums",
      "schema": "public"
    },
    {
      "values": [
        "estatal",
        "andalucia",
        "aragon",
        "asturias",
        "baleares",
        "canarias",
        "cantabria",
        "castilla_la_mancha",
        "castilla_y_leon",
        "catalu√±a",
        "extremadura",
        "galicia",
        "madrid",
        "murcia",
        "navarra",
        "pais_vasco",
        "rioja",
        "valencia",
        "ceuta",
        "melilla",
        "europea"
      ],
      "name": "jurisdiction",
      "entityType": "enums",
      "schema": "public"
    },
    {
      "values": [
        "draft",
        "parliamentary",
        "bulletin",
        "approved",
        "enacted",
        "repealed",
        "expired"
      ],
      "name": "legislative_stage",
      "entityType": "enums",
      "schema": "public"
    },
    {
      "values": [
        "document",
        "preambulo",
        "book",
        "title",
        "subtitle",
        "chapter",
        "section",
        "subsection",
        "article",
        "paragraph",
        "subparagraph",
        "point",
        "letter",
        "annex",
        "disposicion_transitoria",
        "disposicion_final",
        "nota_al_pie"
      ],
      "name": "node_type",
      "entityType": "enums",
      "schema": "public"
    },
    {
      "values": [
        "deroga_total",
        "deroga_parcial",
        "modifica",
        "interpreta",
        "complementa",
        "transitoria",
        "cita_explicita",
        "cita_implicita",
        "glossa",
        "concordancia",
        "publicada_en"
      ],
      "name": "relation_type",
      "entityType": "enums",
      "schema": "public"
    },
    {
      "isRlsEnabled": false,
      "name": "audit_logs",
      "entityType": "tables",
      "schema": "public"
    },
    {
      "isRlsEnabled": false,
      "name": "document_versions",
      "entityType": "tables",
      "schema": "public"
    },
    {
      "isRlsEnabled": false,
      "name": "embedding_cache",
      "entityType": "tables",
      "schema": "public"
    },
    {
      "isRlsEnabled": false,
      "name": "legal_documents",
      "entityType": "tables",
      "schema": "public"
    },
    {
      "isRlsEnabled": false,
      "name": "legal_paths",
      "entityType": "tables",
      "schema": "public"
    },
    {
      "isRlsEnabled": false,
      "name": "legislative_events",
      "entityType": "tables",
      "schema": "public"
    },
    {
      "isRlsEnabled": false,
      "name": "legislative_sources",
      "entityType": "tables",
      "schema": "public"
    },
    {
      "isRlsEnabled": false,
      "name": "query_cache_entries",
      "entityType": "tables",
      "schema": "public"
    },
    {
      "isRlsEnabled": false,
      "name": "reference_anchors",
      "entityType": "tables",
      "schema": "public"
    },
    {
      "isRlsEnabled": false,
      "name": "sense_fragments",
      "entityType": "tables",
      "schema": "public"
    },
    {
      "isRlsEnabled": false,
      "name": "sync_runs",
      "entityType": "tables",
      "schema": "public"
    },
    {
      "type": "varchar(26)",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": "generate_ulid()",
      "generated": null,
      "identity": null,
      "name": "log_id",
      "entityType": "columns",
      "schema": "public",
      "table": "audit_logs"
    },
    {
      "type": "varchar(50)",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "event_type",
      "entityType": "columns",
      "schema": "public",
      "table": "audit_logs"
    },
    {
      "type": "varchar(50)",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "entity_type",
      "entityType": "columns",
      "schema": "public",
      "table": "audit_logs"
    },
    {
      "type": "uuid",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "entity_id",
      "entityType": "columns",
      "schema": "public",
      "table": "audit_logs"
    },
    {
      "type": "varchar(100)",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "actor_id",
      "entityType": "columns",
      "schema": "public",
      "table": "audit_logs"
    },
    {
      "type": "timestamp with time zone",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": "now()",
      "generated": null,
      "identity": null,
      "name": "occurred_at",
      "entityType": "columns",
      "schema": "public",
      "table": "audit_logs"
    },
    {
      "type": "jsonb",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": "'{}'",
      "generated": null,
      "identity": null,
      "name": "metadata",
      "entityType": "columns",
      "schema": "public",
      "table": "audit_logs"
    },
    {
      "type": "uuid",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": "gen_random_uuid_v7()",
      "generated": null,
      "identity": null,
      "name": "version_id",
      "entityType": "columns",
      "schema": "public",
      "table": "document_versions"
    },
    {
      "type": "uuid",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "doc_id",
      "entityType": "columns",
      "schema": "public",
      "table": "document_versions"
    },
    {
      "type": "integer",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "version_number",
      "entityType": "columns",
      "schema": "public",
      "table": "document_versions"
    },
    {
      "type": "varchar(50)",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "version_type",
      "entityType": "columns",
      "schema": "public",
      "table": "document_versions"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "content_text",
      "entityType": "columns",
      "schema": "public",
      "table": "document_versions"
    },
    {
      "type": "timestamp with time zone",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "valid_from",
      "entityType": "columns",
      "schema": "public",
      "table": "document_versions"
    },
    {
      "type": "timestamp with time zone",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "valid_until",
      "entityType": "columns",
      "schema": "public",
      "table": "document_versions"
    },
    {
      "type": "timestamp with time zone",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": "now()",
      "generated": null,
      "identity": null,
      "name": "created_at",
      "entityType": "columns",
      "schema": "public",
      "table": "document_versions"
    },
    {
      "type": "uuid",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": "gen_random_uuid_v7()",
      "generated": null,
      "identity": null,
      "name": "embedding_id",
      "entityType": "columns",
      "schema": "public",
      "table": "embedding_cache"
    },
    {
      "type": "uuid",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "fragment_id",
      "entityType": "columns",
      "schema": "public",
      "table": "embedding_cache"
    },
    {
      "type": "embedding_model",
      "typeSchema": "public",
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "model_name",
      "entityType": "columns",
      "schema": "public",
      "table": "embedding_cache"
    },
    {
      "type": "integer",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "dimensions",
      "entityType": "columns",
      "schema": "public",
      "table": "embedding_cache"
    },
    {
      "type": "vector(1536)",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "embedding_vector",
      "entityType": "columns",
      "schema": "public",
      "table": "embedding_cache"
    },
    {
      "type": "jsonb",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "embedding_binary",
      "entityType": "columns",
      "schema": "public",
      "table": "embedding_cache"
    },
    {
      "type": "timestamp with time zone",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": "now()",
      "generated": null,
      "identity": null,
      "name": "computed_at",
      "entityType": "columns",
      "schema": "public",
      "table": "embedding_cache"
    },
    {
      "type": "integer",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "compute_duration_ms",
      "entityType": "columns",
      "schema": "public",
      "table": "embedding_cache"
    },
    {
      "type": "uuid",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": "gen_random_uuid_v7()",
      "generated": null,
      "identity": null,
      "name": "doc_id",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "type": "uuid",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "source_id",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "type": "varchar(150)",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "canonical_id",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "eli_uri",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "type": "varchar(21)",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": "generate_nanoid(21)",
      "generated": null,
      "identity": null,
      "name": "short_slug",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "type": "content_type",
      "typeSchema": "public",
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "content_type",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "type": "legislative_stage",
      "typeSchema": "public",
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "legislative_stage",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "type": "hierarchy_level",
      "typeSchema": "public",
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "hierarchy_level",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "official_title",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "type": "varchar(300)",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "short_title",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "type": "varchar(20)",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "acronym",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "type": "varchar(50)",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "draft_number",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "type": "varchar(50)",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "procedural_status",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "type": "varchar(20)",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "parliamentary_period",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "type": "varchar(50)",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "parliamentary_session",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "type": "timestamp with time zone",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "introduced_at",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "type": "timestamp with time zone",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "debated_at",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "type": "timestamp with time zone",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "approved_at",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "type": "timestamp with time zone",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "published_at",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "type": "timestamp with time zone",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "entry_into_force_at",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "type": "timestamp with time zone",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "repealed_at",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "type": "uuid",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "repealed_by_doc_id",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "type": "boolean",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": "false",
      "generated": null,
      "identity": null,
      "name": "is_consolidated_text",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "type": "timestamp with time zone",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "consolidation_date",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "type": "uuid",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "consolidates_doc_id",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "type": "uuid",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "parent_bulletin_id",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "type": "varchar(100)",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "bulletin_section",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "type": "varchar(20)",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "bulletin_page",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "original_text_url",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "debate_transcript_url",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "enacted_text_url",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "pdf_url",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "xml_url",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "type": "jsonb",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": "'{}'",
      "generated": null,
      "identity": null,
      "name": "raw_metadata",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "type": "varchar(200)",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "department",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "type": "varchar(50)",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "proposer_type",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "type": "varchar(200)",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "proposer_name",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "type": "varchar(64)",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "content_hash",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "type": "varchar(64)",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "metadata_hash",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "type": "vector(256)",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "summary_embedding",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "type": "timestamp with time zone",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": "now()",
      "generated": null,
      "identity": null,
      "name": "first_seen_at",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "type": "timestamp with time zone",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": "now()",
      "generated": null,
      "identity": null,
      "name": "last_updated_at",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "type": "varchar(100)",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "created_by",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "type": "varchar(100)",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "updated_by",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "type": "timestamp with time zone",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "deleted_at",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "type": "uuid",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": "gen_random_uuid_v7()",
      "generated": null,
      "identity": null,
      "name": "path_id",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_paths"
    },
    {
      "type": "uuid",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "start_doc_id",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_paths"
    },
    {
      "type": "uuid",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "end_doc_id",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_paths"
    },
    {
      "type": "varchar(50)",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "path_type",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_paths"
    },
    {
      "type": "integer",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "path_length",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_paths"
    },
    {
      "type": "timestamp with time zone",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": "now()",
      "generated": null,
      "identity": null,
      "name": "computed_at",
      "entityType": "columns",
      "schema": "public",
      "table": "legal_paths"
    },
    {
      "type": "varchar(26)",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": "generate_ulid()",
      "generated": null,
      "identity": null,
      "name": "event_id",
      "entityType": "columns",
      "schema": "public",
      "table": "legislative_events"
    },
    {
      "type": "uuid",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "doc_id",
      "entityType": "columns",
      "schema": "public",
      "table": "legislative_events"
    },
    {
      "type": "varchar(50)",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "event_type",
      "entityType": "columns",
      "schema": "public",
      "table": "legislative_events"
    },
    {
      "type": "timestamp with time zone",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "occurred_at",
      "entityType": "columns",
      "schema": "public",
      "table": "legislative_events"
    },
    {
      "type": "varchar(50)",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "outcome",
      "entityType": "columns",
      "schema": "public",
      "table": "legislative_events"
    },
    {
      "type": "jsonb",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": "'{}'",
      "generated": null,
      "identity": null,
      "name": "metadata",
      "entityType": "columns",
      "schema": "public",
      "table": "legislative_events"
    },
    {
      "type": "timestamp with time zone",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": "now()",
      "generated": null,
      "identity": null,
      "name": "created_at",
      "entityType": "columns",
      "schema": "public",
      "table": "legislative_events"
    },
    {
      "type": "uuid",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": "gen_random_uuid_v7()",
      "generated": null,
      "identity": null,
      "name": "source_id",
      "entityType": "columns",
      "schema": "public",
      "table": "legislative_sources"
    },
    {
      "type": "varchar(50)",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "source_code",
      "entityType": "columns",
      "schema": "public",
      "table": "legislative_sources"
    },
    {
      "type": "varchar(200)",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "source_name",
      "entityType": "columns",
      "schema": "public",
      "table": "legislative_sources"
    },
    {
      "type": "varchar(50)",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "short_name",
      "entityType": "columns",
      "schema": "public",
      "table": "legislative_sources"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "description",
      "entityType": "columns",
      "schema": "public",
      "table": "legislative_sources"
    },
    {
      "type": "jurisdiction",
      "typeSchema": "public",
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "jurisdiction",
      "entityType": "columns",
      "schema": "public",
      "table": "legislative_sources"
    },
    {
      "type": "varchar(50)",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "autonomous_community",
      "entityType": "columns",
      "schema": "public",
      "table": "legislative_sources"
    },
    {
      "type": "boolean",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": "false",
      "generated": null,
      "identity": null,
      "name": "is_parliamentary",
      "entityType": "columns",
      "schema": "public",
      "table": "legislative_sources"
    },
    {
      "type": "boolean",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": "false",
      "generated": null,
      "identity": null,
      "name": "is_official_gazette",
      "entityType": "columns",
      "schema": "public",
      "table": "legislative_sources"
    },
    {
      "type": "legislative_stage",
      "typeSchema": "public",
      "notNull": true,
      "dimensions": 1,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "provides_stage",
      "entityType": "columns",
      "schema": "public",
      "table": "legislative_sources"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "base_url",
      "entityType": "columns",
      "schema": "public",
      "table": "legislative_sources"
    },
    {
      "type": "jsonb",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": "'{}'",
      "generated": null,
      "identity": null,
      "name": "api_config",
      "entityType": "columns",
      "schema": "public",
      "table": "legislative_sources"
    },
    {
      "type": "timestamp with time zone",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": "now()",
      "generated": null,
      "identity": null,
      "name": "activated_at",
      "entityType": "columns",
      "schema": "public",
      "table": "legislative_sources"
    },
    {
      "type": "timestamp with time zone",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "deactivated_at",
      "entityType": "columns",
      "schema": "public",
      "table": "legislative_sources"
    },
    {
      "type": "varchar(200)",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "deactivated_reason",
      "entityType": "columns",
      "schema": "public",
      "table": "legislative_sources"
    },
    {
      "type": "timestamp with time zone",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "last_successful_sync_at",
      "entityType": "columns",
      "schema": "public",
      "table": "legislative_sources"
    },
    {
      "type": "timestamp with time zone",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "last_failed_sync_at",
      "entityType": "columns",
      "schema": "public",
      "table": "legislative_sources"
    },
    {
      "type": "integer",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": "0",
      "generated": null,
      "identity": null,
      "name": "consecutive_failures",
      "entityType": "columns",
      "schema": "public",
      "table": "legislative_sources"
    },
    {
      "type": "timestamp with time zone",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": "now()",
      "generated": null,
      "identity": null,
      "name": "created_at",
      "entityType": "columns",
      "schema": "public",
      "table": "legislative_sources"
    },
    {
      "type": "timestamp with time zone",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": "now()",
      "generated": null,
      "identity": null,
      "name": "updated_at",
      "entityType": "columns",
      "schema": "public",
      "table": "legislative_sources"
    },
    {
      "type": "varchar(32)",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": "generate_nanoid(32)",
      "generated": null,
      "identity": null,
      "name": "cache_id",
      "entityType": "columns",
      "schema": "public",
      "table": "query_cache_entries"
    },
    {
      "type": "varchar(64)",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "query_hash",
      "entityType": "columns",
      "schema": "public",
      "table": "query_cache_entries"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "query_text",
      "entityType": "columns",
      "schema": "public",
      "table": "query_cache_entries"
    },
    {
      "type": "timestamp with time zone",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "expires_at",
      "entityType": "columns",
      "schema": "public",
      "table": "query_cache_entries"
    },
    {
      "type": "timestamp with time zone",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": "now()",
      "generated": null,
      "identity": null,
      "name": "created_at",
      "entityType": "columns",
      "schema": "public",
      "table": "query_cache_entries"
    },
    {
      "type": "varchar(26)",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": "generate_ulid()",
      "generated": null,
      "identity": null,
      "name": "anchor_id",
      "entityType": "columns",
      "schema": "public",
      "table": "reference_anchors"
    },
    {
      "type": "uuid",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "source_fragment_id",
      "entityType": "columns",
      "schema": "public",
      "table": "reference_anchors"
    },
    {
      "type": "uuid",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "source_doc_id",
      "entityType": "columns",
      "schema": "public",
      "table": "reference_anchors"
    },
    {
      "type": "varchar(150)",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "target_canonical_id",
      "entityType": "columns",
      "schema": "public",
      "table": "reference_anchors"
    },
    {
      "type": "uuid",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "target_doc_id",
      "entityType": "columns",
      "schema": "public",
      "table": "reference_anchors"
    },
    {
      "type": "timestamp with time zone",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "resolved_at",
      "entityType": "columns",
      "schema": "public",
      "table": "reference_anchors"
    },
    {
      "type": "relation_type",
      "typeSchema": "public",
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "relation_type",
      "entityType": "columns",
      "schema": "public",
      "table": "reference_anchors"
    },
    {
      "type": "real",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "extraction_confidence",
      "entityType": "columns",
      "schema": "public",
      "table": "reference_anchors"
    },
    {
      "type": "timestamp with time zone",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "validated_at",
      "entityType": "columns",
      "schema": "public",
      "table": "reference_anchors"
    },
    {
      "type": "varchar(100)",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "validated_by",
      "entityType": "columns",
      "schema": "public",
      "table": "reference_anchors"
    },
    {
      "type": "timestamp with time zone",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": "now()",
      "generated": null,
      "identity": null,
      "name": "created_at",
      "entityType": "columns",
      "schema": "public",
      "table": "reference_anchors"
    },
    {
      "type": "uuid",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": "gen_random_uuid_v7()",
      "generated": null,
      "identity": null,
      "name": "fragment_id",
      "entityType": "columns",
      "schema": "public",
      "table": "sense_fragments"
    },
    {
      "type": "uuid",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "doc_id",
      "entityType": "columns",
      "schema": "public",
      "table": "sense_fragments"
    },
    {
      "type": "uuid",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "version_id",
      "entityType": "columns",
      "schema": "public",
      "table": "sense_fragments"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "content",
      "entityType": "columns",
      "schema": "public",
      "table": "sense_fragments"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "content_normalized",
      "entityType": "columns",
      "schema": "public",
      "table": "sense_fragments"
    },
    {
      "type": "varchar(500)",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "node_path",
      "entityType": "columns",
      "schema": "public",
      "table": "sense_fragments"
    },
    {
      "type": "ltree",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "node_path_ltree",
      "entityType": "columns",
      "schema": "public",
      "table": "sense_fragments"
    },
    {
      "type": "ltree",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "legal_node_path_ltree",
      "entityType": "columns",
      "schema": "public",
      "table": "sense_fragments"
    },
    {
      "type": "node_type",
      "typeSchema": "public",
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "node_type",
      "entityType": "columns",
      "schema": "public",
      "table": "sense_fragments"
    },
    {
      "type": "varchar(50)",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "node_number",
      "entityType": "columns",
      "schema": "public",
      "table": "sense_fragments"
    },
    {
      "type": "varchar(500)",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "node_title",
      "entityType": "columns",
      "schema": "public",
      "table": "sense_fragments"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "preceding_context",
      "entityType": "columns",
      "schema": "public",
      "table": "sense_fragments"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "following_context",
      "entityType": "columns",
      "schema": "public",
      "table": "sense_fragments"
    },
    {
      "type": "vector(1024)",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "embedding_1024",
      "entityType": "columns",
      "schema": "public",
      "table": "sense_fragments"
    },
    {
      "type": "vector(256)",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "embedding_256",
      "entityType": "columns",
      "schema": "public",
      "table": "sense_fragments"
    },
    {
      "type": "timestamp with time zone",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "valid_from",
      "entityType": "columns",
      "schema": "public",
      "table": "sense_fragments"
    },
    {
      "type": "timestamp with time zone",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "valid_until",
      "entityType": "columns",
      "schema": "public",
      "table": "sense_fragments"
    },
    {
      "type": "integer",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "token_count",
      "entityType": "columns",
      "schema": "public",
      "table": "sense_fragments"
    },
    {
      "type": "integer",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "char_count",
      "entityType": "columns",
      "schema": "public",
      "table": "sense_fragments"
    },
    {
      "type": "integer",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "word_count",
      "entityType": "columns",
      "schema": "public",
      "table": "sense_fragments"
    },
    {
      "type": "integer",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "sequence_index",
      "entityType": "columns",
      "schema": "public",
      "table": "sense_fragments"
    },
    {
      "type": "varchar(64)",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "content_fingerprint",
      "entityType": "columns",
      "schema": "public",
      "table": "sense_fragments"
    },
    {
      "type": "timestamp with time zone",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": "now()",
      "generated": null,
      "identity": null,
      "name": "created_at",
      "entityType": "columns",
      "schema": "public",
      "table": "sense_fragments"
    },
    {
      "type": "timestamp with time zone",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": "now()",
      "generated": null,
      "identity": null,
      "name": "updated_at",
      "entityType": "columns",
      "schema": "public",
      "table": "sense_fragments"
    },
    {
      "type": "uuid",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": "gen_random_uuid_v7()",
      "generated": null,
      "identity": null,
      "name": "run_id",
      "entityType": "columns",
      "schema": "public",
      "table": "sync_runs"
    },
    {
      "type": "uuid",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "source_id",
      "entityType": "columns",
      "schema": "public",
      "table": "sync_runs"
    },
    {
      "type": "varchar(20)",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "status",
      "entityType": "columns",
      "schema": "public",
      "table": "sync_runs"
    },
    {
      "type": "timestamp with time zone",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": "now()",
      "generated": null,
      "identity": null,
      "name": "started_at",
      "entityType": "columns",
      "schema": "public",
      "table": "sync_runs"
    },
    {
      "type": "timestamp with time zone",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "completed_at",
      "entityType": "columns",
      "schema": "public",
      "table": "sync_runs"
    },
    {
      "type": "integer",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": "0",
      "generated": null,
      "identity": null,
      "name": "docs_inserted",
      "entityType": "columns",
      "schema": "public",
      "table": "sync_runs"
    },
    {
      "type": "integer",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": "0",
      "generated": null,
      "identity": null,
      "name": "docs_updated",
      "entityType": "columns",
      "schema": "public",
      "table": "sync_runs"
    },
    {
      "type": "integer",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": "0",
      "generated": null,
      "identity": null,
      "name": "docs_failed",
      "entityType": "columns",
      "schema": "public",
      "table": "sync_runs"
    },
    {
      "type": "integer",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "duration_ms",
      "entityType": "columns",
      "schema": "public",
      "table": "sync_runs"
    },
    {
      "type": "jsonb",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": "'[]'",
      "generated": null,
      "identity": null,
      "name": "error_log",
      "entityType": "columns",
      "schema": "public",
      "table": "sync_runs"
    },
    {
      "type": "jsonb",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": "'{}'",
      "generated": null,
      "identity": null,
      "name": "metadata",
      "entityType": "columns",
      "schema": "public",
      "table": "sync_runs"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "entity_type",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        },
        {
          "value": "entity_id",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        },
        {
          "value": "occurred_at",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        }
      ],
      "isUnique": false,
      "where": null,
      "with": "",
      "method": "btree",
      "concurrently": false,
      "name": "idx_audit_entity",
      "entityType": "indexes",
      "schema": "public",
      "table": "audit_logs"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "doc_id",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        },
        {
          "value": "version_number",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        }
      ],
      "isUnique": true,
      "where": null,
      "with": "",
      "method": "btree",
      "concurrently": false,
      "name": "idx_version_doc_num",
      "entityType": "indexes",
      "schema": "public",
      "table": "document_versions"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "fragment_id",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        },
        {
          "value": "model_name",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        }
      ],
      "isUnique": true,
      "where": null,
      "with": "",
      "method": "btree",
      "concurrently": false,
      "name": "idx_embedding_fragment_model",
      "entityType": "indexes",
      "schema": "public",
      "table": "embedding_cache"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "embedding_vector",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": {
            "name": "vector_cosine_ops",
            "default": false
          }
        }
      ],
      "isUnique": false,
      "where": null,
      "with": "",
      "method": "hnsw",
      "concurrently": false,
      "name": "idx_embedding_vector_hnsw",
      "entityType": "indexes",
      "schema": "public",
      "table": "embedding_cache"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "canonical_id",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        }
      ],
      "isUnique": true,
      "where": null,
      "with": "",
      "method": "btree",
      "concurrently": false,
      "name": "idx_doc_canonical",
      "entityType": "indexes",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "short_slug",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        }
      ],
      "isUnique": true,
      "where": null,
      "with": "",
      "method": "btree",
      "concurrently": false,
      "name": "idx_doc_slug",
      "entityType": "indexes",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "legislative_stage",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        },
        {
          "value": "content_type",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        }
      ],
      "isUnique": false,
      "where": null,
      "with": "",
      "method": "btree",
      "concurrently": false,
      "name": "idx_doc_stage",
      "entityType": "indexes",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "parent_bulletin_id",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        }
      ],
      "isUnique": false,
      "where": null,
      "with": "",
      "method": "btree",
      "concurrently": false,
      "name": "idx_doc_bulletin",
      "entityType": "indexes",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "summary_embedding",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": {
            "name": "vector_cosine_ops",
            "default": false
          }
        }
      ],
      "isUnique": false,
      "where": null,
      "with": "",
      "method": "hnsw",
      "concurrently": false,
      "name": "idx_doc_vector_hnsw",
      "entityType": "indexes",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "start_doc_id",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        },
        {
          "value": "end_doc_id",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        },
        {
          "value": "path_type",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        }
      ],
      "isUnique": true,
      "where": null,
      "with": "",
      "method": "btree",
      "concurrently": false,
      "name": "idx_path_endpoints",
      "entityType": "indexes",
      "schema": "public",
      "table": "legal_paths"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "doc_id",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        },
        {
          "value": "occurred_at",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        }
      ],
      "isUnique": false,
      "where": null,
      "with": "",
      "method": "btree",
      "concurrently": false,
      "name": "idx_event_doc",
      "entityType": "indexes",
      "schema": "public",
      "table": "legislative_events"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "source_code",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        }
      ],
      "isUnique": true,
      "where": null,
      "with": "",
      "method": "btree",
      "concurrently": false,
      "name": "idx_source_code",
      "entityType": "indexes",
      "schema": "public",
      "table": "legislative_sources"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "jurisdiction",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        }
      ],
      "isUnique": false,
      "where": null,
      "with": "",
      "method": "btree",
      "concurrently": false,
      "name": "idx_source_jurisdiction",
      "entityType": "indexes",
      "schema": "public",
      "table": "legislative_sources"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "deactivated_at",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        }
      ],
      "isUnique": false,
      "where": "\"deactivated_at\" IS NULL",
      "with": "",
      "method": "btree",
      "concurrently": false,
      "name": "idx_source_active",
      "entityType": "indexes",
      "schema": "public",
      "table": "legislative_sources"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "query_hash",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        }
      ],
      "isUnique": true,
      "where": null,
      "with": "",
      "method": "btree",
      "concurrently": false,
      "name": "idx_cache_hash",
      "entityType": "indexes",
      "schema": "public",
      "table": "query_cache_entries"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "expires_at",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        }
      ],
      "isUnique": false,
      "where": null,
      "with": "",
      "method": "btree",
      "concurrently": false,
      "name": "idx_cache_ttl",
      "entityType": "indexes",
      "schema": "public",
      "table": "query_cache_entries"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "source_doc_id",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        },
        {
          "value": "relation_type",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        }
      ],
      "isUnique": false,
      "where": null,
      "with": "",
      "method": "btree",
      "concurrently": false,
      "name": "idx_ref_source_doc",
      "entityType": "indexes",
      "schema": "public",
      "table": "reference_anchors"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "source_doc_id",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        }
      ],
      "isUnique": false,
      "where": "\"target_doc_id\" IS NULL",
      "with": "",
      "method": "btree",
      "concurrently": false,
      "name": "idx_ref_unresolved",
      "entityType": "indexes",
      "schema": "public",
      "table": "reference_anchors"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "doc_id",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        },
        {
          "value": "node_path",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        }
      ],
      "isUnique": true,
      "where": null,
      "with": "",
      "method": "btree",
      "concurrently": false,
      "name": "idx_frag_doc_path",
      "entityType": "indexes",
      "schema": "public",
      "table": "sense_fragments"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "doc_id",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        },
        {
          "value": "node_path_ltree",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        }
      ],
      "isUnique": true,
      "where": null,
      "with": "",
      "method": "btree",
      "concurrently": false,
      "name": "idx_frag_doc_path_ltree",
      "entityType": "indexes",
      "schema": "public",
      "table": "sense_fragments"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "embedding_256",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": {
            "name": "vector_cosine_ops",
            "default": false
          }
        }
      ],
      "isUnique": false,
      "where": null,
      "with": "m=16, ef_construction=64",
      "method": "hnsw",
      "concurrently": false,
      "name": "idx_frag_256_hnsw",
      "entityType": "indexes",
      "schema": "public",
      "table": "sense_fragments"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "embedding_1024",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": {
            "name": "vector_cosine_ops",
            "default": false
          }
        }
      ],
      "isUnique": false,
      "where": null,
      "with": "m=16, ef_construction=64",
      "method": "hnsw",
      "concurrently": false,
      "name": "idx_frag_1024_hnsw",
      "entityType": "indexes",
      "schema": "public",
      "table": "sense_fragments"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "doc_id",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        },
        {
          "value": "version_id",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        }
      ],
      "isUnique": false,
      "where": null,
      "with": "",
      "method": "btree",
      "concurrently": false,
      "name": "idx_frag_doc_version",
      "entityType": "indexes",
      "schema": "public",
      "table": "sense_fragments"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "node_type",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        }
      ],
      "isUnique": false,
      "where": null,
      "with": "",
      "method": "btree",
      "concurrently": false,
      "name": "idx_frag_node_type",
      "entityType": "indexes",
      "schema": "public",
      "table": "sense_fragments"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "node_path_ltree",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        }
      ],
      "isUnique": false,
      "where": null,
      "with": "",
      "method": "gist",
      "concurrently": false,
      "name": "idx_frag_node_path_ltree_gist",
      "entityType": "indexes",
      "schema": "public",
      "table": "sense_fragments"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "legal_node_path_ltree",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        }
      ],
      "isUnique": false,
      "where": null,
      "with": "",
      "method": "gist",
      "concurrently": false,
      "name": "idx_frag_legal_node_path_ltree_gist",
      "entityType": "indexes",
      "schema": "public",
      "table": "sense_fragments"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "valid_from",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        },
        {
          "value": "valid_until",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        }
      ],
      "isUnique": false,
      "where": null,
      "with": "",
      "method": "btree",
      "concurrently": false,
      "name": "idx_frag_valid_window",
      "entityType": "indexes",
      "schema": "public",
      "table": "sense_fragments"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "doc_id",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        },
        {
          "value": "content_fingerprint",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        }
      ],
      "isUnique": true,
      "where": null,
      "with": "",
      "method": "btree",
      "concurrently": false,
      "name": "idx_frag_doc_fingerprint",
      "entityType": "indexes",
      "schema": "public",
      "table": "sense_fragments"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "source_id",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        },
        {
          "value": "started_at",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        }
      ],
      "isUnique": false,
      "where": null,
      "with": "",
      "method": "btree",
      "concurrently": false,
      "name": "idx_sync_source_time",
      "entityType": "indexes",
      "schema": "public",
      "table": "sync_runs"
    },
    {
      "nameExplicit": false,
      "columns": ["doc_id"],
      "schemaTo": "public",
      "tableTo": "legal_documents",
      "columnsTo": ["doc_id"],
      "onUpdate": "NO ACTION",
      "onDelete": "CASCADE",
      "name": "document_versions_doc_id_legal_documents_doc_id_fkey",
      "entityType": "fks",
      "schema": "public",
      "table": "document_versions"
    },
    {
      "nameExplicit": false,
      "columns": ["fragment_id"],
      "schemaTo": "public",
      "tableTo": "sense_fragments",
      "columnsTo": ["fragment_id"],
      "onUpdate": "NO ACTION",
      "onDelete": "CASCADE",
      "name": "embedding_cache_fragment_id_sense_fragments_fragment_id_fkey",
      "entityType": "fks",
      "schema": "public",
      "table": "embedding_cache"
    },
    {
      "nameExplicit": false,
      "columns": ["source_id"],
      "schemaTo": "public",
      "tableTo": "legislative_sources",
      "columnsTo": ["source_id"],
      "onUpdate": "NO ACTION",
      "onDelete": "NO ACTION",
      "name": "legal_documents_source_id_legislative_sources_source_id_fkey",
      "entityType": "fks",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "nameExplicit": false,
      "columns": ["repealed_by_doc_id"],
      "schemaTo": "public",
      "tableTo": "legal_documents",
      "columnsTo": ["doc_id"],
      "onUpdate": "NO ACTION",
      "onDelete": "NO ACTION",
      "name": "legal_documents_repealed_by_doc_id_legal_documents_doc_id_fkey",
      "entityType": "fks",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "nameExplicit": false,
      "columns": ["consolidates_doc_id"],
      "schemaTo": "public",
      "tableTo": "legal_documents",
      "columnsTo": ["doc_id"],
      "onUpdate": "NO ACTION",
      "onDelete": "NO ACTION",
      "name": "legal_documents_consolidates_doc_id_legal_documents_doc_id_fkey",
      "entityType": "fks",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "nameExplicit": false,
      "columns": ["parent_bulletin_id"],
      "schemaTo": "public",
      "tableTo": "legal_documents",
      "columnsTo": ["doc_id"],
      "onUpdate": "NO ACTION",
      "onDelete": "NO ACTION",
      "name": "legal_documents_parent_bulletin_id_legal_documents_doc_id_fkey",
      "entityType": "fks",
      "schema": "public",
      "table": "legal_documents"
    },
    {
      "nameExplicit": false,
      "columns": ["start_doc_id"],
      "schemaTo": "public",
      "tableTo": "legal_documents",
      "columnsTo": ["doc_id"],
      "onUpdate": "NO ACTION",
      "onDelete": "NO ACTION",
      "name": "legal_paths_start_doc_id_legal_documents_doc_id_fkey",
      "entityType": "fks",
      "schema": "public",
      "table": "legal_paths"
    },
    {
      "nameExplicit": false,
      "columns": ["end_doc_id"],
      "schemaTo": "public",
      "tableTo": "legal_documents",
      "columnsTo": ["doc_id"],
      "onUpdate": "NO ACTION",
      "onDelete": "NO ACTION",
      "name": "legal_paths_end_doc_id_legal_documents_doc_id_fkey",
      "entityType": "fks",
      "schema": "public",
      "table": "legal_paths"
    },
    {
      "nameExplicit": false,
      "columns": ["doc_id"],
      "schemaTo": "public",
      "tableTo": "legal_documents",
      "columnsTo": ["doc_id"],
      "onUpdate": "NO ACTION",
      "onDelete": "CASCADE",
      "name": "legislative_events_doc_id_legal_documents_doc_id_fkey",
      "entityType": "fks",
      "schema": "public",
      "table": "legislative_events"
    },
    {
      "nameExplicit": false,
      "columns": ["source_fragment_id"],
      "schemaTo": "public",
      "tableTo": "sense_fragments",
      "columnsTo": ["fragment_id"],
      "onUpdate": "NO ACTION",
      "onDelete": "CASCADE",
      "name": "reference_anchors_TitQe6ekhU71_fkey",
      "entityType": "fks",
      "schema": "public",
      "table": "reference_anchors"
    },
    {
      "nameExplicit": false,
      "columns": ["source_doc_id"],
      "schemaTo": "public",
      "tableTo": "legal_documents",
      "columnsTo": ["doc_id"],
      "onUpdate": "NO ACTION",
      "onDelete": "CASCADE",
      "name": "reference_anchors_source_doc_id_legal_documents_doc_id_fkey",
      "entityType": "fks",
      "schema": "public",
      "table": "reference_anchors"
    },
    {
      "nameExplicit": false,
      "columns": ["target_doc_id"],
      "schemaTo": "public",
      "tableTo": "legal_documents",
      "columnsTo": ["doc_id"],
      "onUpdate": "NO ACTION",
      "onDelete": "NO ACTION",
      "name": "reference_anchors_target_doc_id_legal_documents_doc_id_fkey",
      "entityType": "fks",
      "schema": "public",
      "table": "reference_anchors"
    },
    {
      "nameExplicit": false,
      "columns": ["doc_id"],
      "schemaTo": "public",
      "tableTo": "legal_documents",
      "columnsTo": ["doc_id"],
      "onUpdate": "NO ACTION",
      "onDelete": "CASCADE",
      "name": "sense_fragments_doc_id_legal_documents_doc_id_fkey",
      "entityType": "fks",
      "schema": "public",
      "table": "sense_fragments"
    },
    {
      "nameExplicit": false,
      "columns": ["version_id"],
      "schemaTo": "public",
      "tableTo": "document_versions",
      "columnsTo": ["version_id"],
      "onUpdate": "NO ACTION",
      "onDelete": "NO ACTION",
      "name": "sense_fragments_version_id_document_versions_version_id_fkey",
      "entityType": "fks",
      "schema": "public",
      "table": "sense_fragments"
    },
    {
      "nameExplicit": false,
      "columns": ["source_id"],
      "schemaTo": "public",
      "tableTo": "legislative_sources",
      "columnsTo": ["source_id"],
      "onUpdate": "NO ACTION",
      "onDelete": "NO ACTION",
      "name": "sync_runs_source_id_legislative_sources_source_id_fkey",
      "entityType": "fks",
      "schema": "public",
      "table": "sync_runs"
    },
    {
      "columns": ["log_id"],
      "nameExplicit": false,
      "name": "audit_logs_pkey",
      "schema": "public",
      "table": "audit_logs",
      "entityType": "pks"
    },
    {
      "columns": ["version_id"],
      "nameExplicit": false,
      "name": "document_versions_pkey",
      "schema": "public",
      "table": "document_versions",
      "entityType": "pks"
    },
    {
      "columns": ["embedding_id"],
      "nameExplicit": false,
      "name": "embedding_cache_pkey",
      "schema": "public",
      "table": "embedding_cache",
      "entityType": "pks"
    },
    {
      "columns": ["doc_id"],
      "nameExplicit": false,
      "name": "legal_documents_pkey",
      "schema": "public",
      "table": "legal_documents",
      "entityType": "pks"
    },
    {
      "columns": ["path_id"],
      "nameExplicit": false,
      "name": "legal_paths_pkey",
      "schema": "public",
      "table": "legal_paths",
      "entityType": "pks"
    },
    {
      "columns": ["event_id"],
      "nameExplicit": false,
      "name": "legislative_events_pkey",
      "schema": "public",
      "table": "legislative_events",
      "entityType": "pks"
    },
    {
      "columns": ["source_id"],
      "nameExplicit": false,
      "name": "legislative_sources_pkey",
      "schema": "public",
      "table": "legislative_sources",
      "entityType": "pks"
    },
    {
      "columns": ["cache_id"],
      "nameExplicit": false,
      "name": "query_cache_entries_pkey",
      "schema": "public",
      "table": "query_cache_entries",
      "entityType": "pks"
    },
    {
      "columns": ["anchor_id"],
      "nameExplicit": false,
      "name": "reference_anchors_pkey",
      "schema": "public",
      "table": "reference_anchors",
      "entityType": "pks"
    },
    {
      "columns": ["fragment_id"],
      "nameExplicit": false,
      "name": "sense_fragments_pkey",
      "schema": "public",
      "table": "sense_fragments",
      "entityType": "pks"
    },
    {
      "columns": ["run_id"],
      "nameExplicit": false,
      "name": "sync_runs_pkey",
      "schema": "public",
      "table": "sync_runs",
      "entityType": "pks"
    },
    {
      "nameExplicit": false,
      "columns": ["short_slug"],
      "nullsNotDistinct": false,
      "name": "legal_documents_short_slug_key",
      "schema": "public",
      "table": "legal_documents",
      "entityType": "uniques"
    },
    {
      "nameExplicit": false,
      "columns": ["source_code"],
      "nullsNotDistinct": false,
      "name": "legislative_sources_source_code_key",
      "schema": "public",
      "table": "legislative_sources",
      "entityType": "uniques"
    },
    {
      "nameExplicit": false,
      "columns": ["query_hash"],
      "nullsNotDistinct": false,
      "name": "query_cache_entries_query_hash_key",
      "schema": "public",
      "table": "query_cache_entries",
      "entityType": "uniques"
    },
    {
      "value": "(\n        (\"model_name\" = 'jina-embeddings-v4' and \"dimensions\" in (256, 1024, 1536))\n        or (\"model_name\" = 'openai_3_small' and \"dimensions\" in (256, 1024, 1536))\n        or (\"model_name\" = 'openai_3_large' and \"dimensions\" in (256, 1024, 1536))\n        or (\"model_name\" = 'e5_multilingual' and \"dimensions\" in (256, 384, 768, 1024))\n        or (\"model_name\" = 'custom' and \"dimensions\" > 0 and \"dimensions\" <= 1536)\n      )",
      "name": "chk_embeddings_model_dims",
      "entityType": "checks",
      "schema": "public",
      "table": "embedding_cache"
    }
  ],
  "renames": []
}
